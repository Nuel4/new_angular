<navigation:Page xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"  x:Class="Socrates.Views.Billing.Payment"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
           mc:Ignorable="d"
           xmlns:navigation="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Navigation"
           xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
                 xmlns:Microsoft_Cui_Controls="clr-namespace:Microsoft.Cui.Controls;assembly=Microsoft.Cui.Controls"
           Width="Auto" Height="Auto"
           Title="Billing : Payments">
    <navigation:Page.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../../Assets/System.Windows.Controls.Theming.TwilightBlue.xaml"/>
                <ResourceDictionary Source="../../Assets/Styles.xaml"/>
                <ResourceDictionary Source="../../Assets/generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </navigation:Page.Resources>
    <Grid x:Name="LayoutRoot" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto" Background="LightGray" >
        <telerik:RadBusyIndicator x:Name="PaymentsBusyIndicator" IsBusy="True">
            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto">
                <Grid.RowDefinitions>
                    <RowDefinition Height="26"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0" VerticalAlignment="Top">
                    <Grid x:Name="PracticeSeparator" Height="25" HorizontalAlignment="Stretch" VerticalAlignment="Top" Margin="1">
                        <Rectangle Height="25" VerticalAlignment="Top" RadiusX="5" RadiusY="20">
                            <Rectangle.Fill>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Color="#FF6595D4"/>
                                    <GradientStop Color="#FF367799" Offset="0.553"/>
                                </LinearGradientBrush>
                            </Rectangle.Fill>
                        </Rectangle>
                    </Grid>
                    <TextBlock Text="Billing > Payments " FontSize="11" Foreground="White" VerticalAlignment="Center" Margin="5,0,0,0" />
                </Grid>
                <Grid Grid.Row="1"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" Width="Auto" Height="Auto" HorizontalAlignment="Stretch">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="25"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="25"/>
                            <RowDefinition Height="25"/>
                            <RowDefinition Height="25"/>
                            <RowDefinition Height="25"/>
                            <RowDefinition Height="25"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="300"/>
                            <ColumnDefinition Width="300"/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Grid VerticalAlignment="Top" Grid.RowSpan="8" Grid.ColumnSpan="6" >
                            <Grid x:Name="PatientSearch" Height="210" HorizontalAlignment="Stretch" VerticalAlignment="Top">
                                <Border Height="210" VerticalAlignment="Top" CornerRadius="10" BorderBrush="#FFB8B7B7" BorderThickness="2">
                                    <Rectangle Fill="#FFF4F4F5" RadiusX="10" RadiusY="10"/>
                                </Border>
                            </Grid>
                        </Grid>
                        <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4" Orientation="Horizontal">
                            <TextBlock Text="Patient Search" FontSize="11" FontWeight="Bold"   VerticalAlignment="Center" Margin="10,0,10,0" />
                            <Button x:Name="BtnTopFindPatient" Content="Find Patient" Click="BtnTopFindPatient_Click"  Height="20" Width="75" Margin="10,0,10,0" FontSize="9.333" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                            <Button x:Name="BtnTopClear" Content="Clear" Click="BtnTopClear_Click"  Height="20" Width="75" Margin="10,0,10,0" FontSize="9.333" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                            <Button x:Name="BtnBillersNotes" Tag="Payment" Content="Billers' Notes" IsEnabled="False"  Height="20"  Width="85"  Margin="50,0,10,0" FontSize="9.333" FontWeight="Bold" Click="BtnBillersNotes_Click"  />
                        </StackPanel>
                        <!--<TextBlock x:Name="LblTopPatient" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" Text="" FontSize="14"   VerticalAlignment="Center" Margin="10,0,0,5" FontWeight="Bold">
                        </TextBlock>-->



                        <HyperlinkButton x:Name="HypLnkTopPatient" Grid.Row="1" Grid.Column="0"  HorizontalAlignment="Left" FontSize="15" Foreground="Black" VerticalAlignment="Center" Margin="10,0,5,5" FontWeight="Bold" Click="HypLnkTopPatient_Click"/>
                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="0,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock HorizontalAlignment="Left" Text="DOB:" FontSize="11"   VerticalAlignment="Center" Margin="25,0,0,0" />
                            <TextBlock x:Name="LblTopDOBValue" HorizontalAlignment="Left" Text="" Width="95" FontSize="11"   VerticalAlignment="Center" Margin="5,0,0,0" />
                        </StackPanel>
                        <StackPanel Grid.Row="1" Grid.Column="2" Margin="25,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock HorizontalAlignment="Left" Text="Acct No.:" FontSize="11" VerticalAlignment="Center" Margin="0,0,0,0"  />
                            <TextBlock x:Name="LblTopUniqueNumber" HorizontalAlignment="Left" Width="100" Text="" FontSize="11" VerticalAlignment="Center" Margin="5,0,0,0"   />
                        </StackPanel>


                        <StackPanel Grid.Row="2" Grid.Column="0" Margin="0,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock HorizontalAlignment="Left" Grid.Row="2" Grid.ColumnSpan="2" Text="Insurance" FontWeight="Bold" FontSize="11"   VerticalAlignment="Center" Margin="10,0,0,0" />
                            <TextBlock HorizontalAlignment="Left" Text="Primary:" FontSize="11"   VerticalAlignment="Center" Margin="10,0,0,0" />
                            <TextBlock x:Name="LblTopPrimaryInsurance" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,5,0" />
                        </StackPanel>
                        <StackPanel Grid.Row="2" Grid.Column="1"  Margin="0,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock HorizontalAlignment="Left" Text="Secondary:" FontSize="11"   VerticalAlignment="Center" Margin="25,0,0,0" />
                            <TextBlock x:Name="LblTopSecondaryInsurance" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,5,0" />
                        </StackPanel>
                        <StackPanel Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2"  Margin="0,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock HorizontalAlignment="Left" Text="Tertiary:" FontSize="11"   VerticalAlignment="Center" Margin="25,0,0,0" />
                            <TextBlock x:Name="LblTopTertiaryInsurance" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,5,0" />
                        </StackPanel>


                        <TextBlock Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" Text="BALANCES" FontWeight="Bold" FontSize="11"   VerticalAlignment="Center" Margin="10,0,0,5" />

                        <StackPanel Grid.Row="6" Grid.Column="0" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock x:Name="LblTopAccountBalance" HorizontalAlignment="Left" Text="Current($):"  Width="80" FontSize="11"   VerticalAlignment="Center" />
                            <TextBlock x:Name="LblTopAccountBalanceValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,0,0" />
                        </StackPanel>
                        <StackPanel Grid.Row="5" Grid.Column="0" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock x:Name="LblTopPatBalDue" HorizontalAlignment="Left" Text="Patient($):"  Width="80"  FontSize="11"   VerticalAlignment="Center" />
                            <TextBlock x:Name="LblTopPatBalDueValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,0,0" />
                        </StackPanel>
                        <StackPanel Grid.Row="4" Grid.Column="0" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock x:Name="LblTopInsuranceBalDue" HorizontalAlignment="Left" Text="Insurance($):"  Width="80"  FontSize="11"   VerticalAlignment="Center" />
                            <TextBlock x:Name="LblTopInsuranceBalDueValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,0,0" />
                        </StackPanel>

                        <Border BorderBrush="Gray" BorderThickness="1"  Grid.Row="3" Grid.Column="0"  HorizontalAlignment="Right" Width="0.5"  Margin="10,0,30,7"  Grid.RowSpan="5"/>
                        <Border BorderBrush="Gray" BorderThickness="1"  Grid.Row="3" Grid.Column="1"  HorizontalAlignment="Right" Width="0.5"  Margin="-20,0,30,7"  Grid.RowSpan="5"/>

                        <TextBlock Grid.Row="3" Grid.Column="1"  HorizontalAlignment="Left" Text="PAYMENTS" FontWeight="Bold" FontSize="11"   VerticalAlignment="Center" Margin="25,0,0,5" />
                        <TextBlock Grid.Row="3" Grid.Column="2"  HorizontalAlignment="Left" Text="ADJ / WRITE-OFFS" FontWeight="Bold" FontSize="11"   VerticalAlignment="Center" Margin="25,0,0,5" />





                        <StackPanel Grid.Row="6" Grid.Column="1" Margin="25,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <!--<Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left">-->
                            <TextBlock x:Name="LblTopTotalPayment" HorizontalAlignment="Left" Text="Total($):" Width="95" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,5"/>
                            <TextBlock x:Name="LblTopTotalPaymentValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,0,5" />
                            <!--  </StackPanel>
                              <TextBlock Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" Text="(Incl. Adj. &amp; Write-off)" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0"/>
                            </Grid>-->
                        </StackPanel>
                        <StackPanel Grid.Row="5" Grid.Column="1" Margin="25,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock x:Name="LblTopPatientPayment" HorizontalAlignment="Left" Text="Patient($):" FontSize="11" Width="95"  VerticalAlignment="Center" Margin="0,0,0,5" />
                            <TextBlock x:Name="LblTopPatientPaymentValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,0,5" />
                        </StackPanel>
                        <StackPanel Grid.Row="4" Grid.Column="1" Margin="25,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock x:Name="LblTopInsurancePayment" HorizontalAlignment="Left" Text="Insurance($):" Width="95" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,5" />
                            <TextBlock x:Name="LblTopInsurancePaymentValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,0,5" />
                        </StackPanel>

                        <StackPanel Grid.Row="7" Grid.Column="1" Margin="25,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <!--<RowDefinition/>-->
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBlock x:Name="LblTopUnallocatedPayents" HorizontalAlignment="Left" Text="Unapplied Pt($):" Width="95" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,5" />
                                    <TextBlock x:Name="LblTopUnallocatedPayentsValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="5,0,0,5" />
                                </StackPanel>
                                <!--<TextBlock Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" Text="(Patient Payments Only)" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,5"/>-->
                            </Grid>
                        </StackPanel>
                        <StackPanel Grid.Row="4" Grid.Column="2" Margin="25,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock x:Name="LblTopAdjPayment" HorizontalAlignment="Left" Text="Adjustments($):" FontSize="11" Width="98"  VerticalAlignment="Center" Margin="0,0,0,5" />
                            <TextBlock x:Name="LblTopAdjPaymentValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,5" />
                        </StackPanel>
                        <StackPanel Grid.Row="5" Grid.Column="2" Margin="25,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock x:Name="LblTopWriteOffPayment" HorizontalAlignment="Left" Text="Write-offs($):" FontSize="11" Width="98"  VerticalAlignment="Center" Margin="0,0,0,5" />
                            <TextBlock x:Name="LblTopWriteOffPaymentValue" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,5" />
                        </StackPanel>
                    </Grid>
                    <telerik:RadTabControl Grid.Row="1" SelectedIndex="0" BackgroundVisibility="Collapsed" x:Name="RadTabControl1"  SelectionChanged="RadTabControl1_SelectionChanged"  Margin="0" Background="Transparent" telerik:StyleManager.Theme="Office_Black">

                        <telerik:RadTabItem Header="Insurance Payments" x:Name="RadTabInsurancePayment"  HorizontalContentAlignment="Stretch" HorizontalAlignment="Left">

                            <ScrollViewer x:Name="svErrors" Grid.Row="0" VerticalScrollBarVisibility="Visible" Height="550" HorizontalAlignment="Stretch" HorizontalScrollBarVisibility="Disabled" >

                                <Grid Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Top">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <Grid Grid.Row="0" Width="Auto" Height="Auto" HorizontalAlignment="Stretch" >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="25"/>
                                            <RowDefinition Height="28"/>
                                            <RowDefinition Height="28"/>
                                            <RowDefinition Height="25"/>
                                            <RowDefinition Height="25"/>
                                            <RowDefinition Height="25"/>
                                            <RowDefinition Height="25"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="130"/>
                                            <ColumnDefinition Width="220"/>
                                            <ColumnDefinition Width="110"/>
                                            <ColumnDefinition Width="180"/>
                                            <ColumnDefinition Width="130"/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Row="0" Text="Insurance Payment Details" Grid.ColumnSpan="6" FontSize="11" FontWeight="Bold" Foreground="Black" VerticalAlignment="Center" Margin="10,0,20,0" />
                                        <TextBlock Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" Text="Insurance Provider" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <TextBlock Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left" Text="Payment Date" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <TextBlock Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" Text="Payment Amount" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <TextBlock Grid.Row="4" Grid.Column="0" HorizontalAlignment="Left" Text="Charge back Amount" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <TextBlock Grid.Row="5" Grid.Column="0" HorizontalAlignment="Left" Text="Total Amount" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <TextBlock Grid.Row="2" Grid.Column="4" HorizontalAlignment="Left" Text="Reference Number" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="20,0,0,5" />

                                        <TextBlock x:Name="LblIPAmountAvailable" Grid.Row="3" Grid.Column="2" HorizontalAlignment="Left" Text="Amount Available" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" Visibility="Collapsed" />
                                        <TextBlock x:Name="LblIPAmountApplied" Grid.Row="4" Grid.Column="2" HorizontalAlignment="Left" Text="Amount Applied" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" Visibility="Collapsed"/>

                                        <telerik:RadDatePicker x:Name="RdpIpPaymentDate" KeyUp="RdpPaymentDate_KeyUp" ParseDateTimeValue="RdpPaymentDate_ParseDateTimeValue" Grid.Row="2" Grid.Column="1" SelectionChanged="RdpIpPaymentDate_SelectionChanged" HorizontalAlignment="Left" Margin="10,0,0,0" FontSize="9.333" Height="21" Width="150"  ></telerik:RadDatePicker>
                                        <TextBox x:Name="TxtIpPaymentAmount" Grid.Row="3" Grid.Column="1" Text="" HorizontalAlignment="Left" Width="150" Margin="10,0,0,0" FontSize="9.333" Height="20" TextChanged="TxtIpPaymentAmount_TextChanged" />
                                        <TextBox x:Name="TxtIpChargeBackAmount" Grid.Row="4" Grid.Column="1" Text="" HorizontalAlignment="Left" Width="150" Margin="10,0,0,0" FontSize="9.333" Height="20" TextChanged="TxtIpChargeBackAmount_TextChanged" />
                                        <TextBox x:Name="TxtIpTotalAmount" IsEnabled="False" Grid.Row="5" Grid.Column="1" Text="" HorizontalAlignment="Left" Width="150" Margin="10,0,0,0" FontSize="9.333" Height="20" />
                                        <TextBox x:Name="TxtIpReferenceNumber" Grid.Row="2" Grid.Column="5" HorizontalAlignment="Left" Width="150" Margin="10,0,0,0" FontSize="9.333" Height="20" />
                                        <TextBlock x:Name="LblIPAmountAvailableValue" Grid.Row="3" Grid.Column="3" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" Visibility="Collapsed"/>
                                        <TextBlock x:Name="LblIPAmountAppliedValue" Grid.Row="4" Grid.Column="3" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" Visibility="Collapsed"/>
                                        <StackPanel  Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="4" Orientation="Horizontal">
                                            <RadioButton x:Name="RadInsuranceProviderCode" GroupName="InsuranceProvider" Margin="10,0,0,0" Content="Code" IsChecked="True" Checked="RadInsuranceProviderCode_Checked"/>
                                            <RadioButton x:Name="RadInsuranceProviderName" GroupName="InsuranceProvider" Margin="10,0,0,0" Content="Name" Checked="RadInsuranceProviderName_Checked" />
                                            <telerik:RadComboBox x:Name="DdlInsuranceProvider" ItemsSource="{Binding}" DisplayMemberPath="insurance_provider_name" SelectedValuePath="insurance_provider_id" SelectionChanged="DdlInsuranceProvider_SelectionChanged" Margin="10,0,0,0" Width="300" Height="Auto" HorizontalAlignment="Left" IsEditable="True" IsReadOnly="True">
                                            </telerik:RadComboBox>
                                            <TextBlock HorizontalAlignment="Left" Text="Payer Id" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,0" />
                                            <TextBox x:Name="TxtInsurancePayerId" IsEnabled="False" HorizontalAlignment="Left" Text="" Width="50" Margin="10,0,0,0" ToolTipService.ToolTip="" Height="19" FontSize="9.333" />
                                        </StackPanel>

                                        <TextBlock Grid.Row="2" Grid.Column="2" HorizontalAlignment="Left" Text="Payment Method" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <telerik:RadComboBox x:Name="DdlIPPaymentMethod" Margin="10,2,0,2" Width="150" Grid.Row="2" Grid.Column="3" HorizontalAlignment="Left" Height="Auto">
                                        </telerik:RadComboBox>

                                        <TextBlock HorizontalAlignment="Left" Grid.Row="1" Grid.Column="1" Text="*" FontSize="11" Foreground="Red" VerticalAlignment="Center" Margin="0,1,0,0" />
                                        <TextBlock HorizontalAlignment="Left" Grid.Row="2" Grid.Column="1" Text="*" FontSize="11" Foreground="Red" VerticalAlignment="Center" Margin="0,4,0,0" />
                                        <TextBlock HorizontalAlignment="Left" Grid.Row="3" Grid.Column="1" Text="*" FontSize="11" Foreground="Red" VerticalAlignment="Center" Margin="0,4,0,0" />
                                        <!--<TextBlock HorizontalAlignment="Left" Grid.Row="4" Grid.Column="1" Text="*" FontSize="11" Foreground="Red" VerticalAlignment="Center" Margin="0,4,0,0" />-->
                                        <TextBlock HorizontalAlignment="Left" Grid.Row="2" Grid.Column="3" Text="*" FontSize="11" Foreground="Red" VerticalAlignment="Center" Margin="0,1,0,0" />

                                        <StackPanel Grid.Row="6" Grid.ColumnSpan="6" Orientation="Horizontal" Visibility="Collapsed">
                                            <RadioButton x:Name="RadioPrimaryIns" Content="Primary"  Margin="10,0,0,5"/>
                                            <RadioButton x:Name="RadioSecondaryIns" Content="Secondary"  Margin="10,0,0,5"/>
                                            <RadioButton x:Name="RadioTertiaryIns" Content="Tertiary"  Margin="10,0,0,5"/>
                                        </StackPanel>
                                        <StackPanel Grid.Row="7" Grid.ColumnSpan="6" Orientation="Horizontal" Visibility="Collapsed">
                                            <RadioButton x:Name="RadioFullPayment" Content="Full Payment"  Margin="10,0,0,5"/>
                                            <RadioButton x:Name="RadioPartialPayment" Content="Partial Payment"  Margin="10,0,0,5"/>
                                        </StackPanel>

                                        <StackPanel Grid.Row="6" Grid.Column="4" Orientation="Horizontal" Grid.ColumnSpan="2">
                                            <Button x:Name="BtnIPSave" Content="Save" Click="BtnIPSave_Click"  Height="20" Width="70" Margin="5,0,2,0" FontSize="9.333" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                            <Button x:Name="BtnIPUpdate" Content="Update" Click="BtnIPUpdate_Click"  Height="20" Width="70" Margin="5,0,2,0" FontSize="9.333" VerticalAlignment="Center" HorizontalAlignment="Left" Visibility="Collapsed"/>
                                            <Button x:Name="BtnIPSaveAndProceed" Content="Save &amp; Allocate" Click="BtnIpSaveAndProceed_Click" Height="20" Width="90" Margin="5,0,2,0" FontSize="9.333" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                            <Button x:Name="BtnIPUpdateCancel" Content="Cancel" Click="BtnIPUpdateCancel_Click" Height="20" Width="70" Margin="5,0,2,0" FontSize="9.333" VerticalAlignment="Center" HorizontalAlignment="Left" Visibility="Collapsed"/>
                                            <Button x:Name="BtnIPClear" Content="Clear" Click="BtnIpClear_Click" Height="20" Width="70" Margin="5,0,2,0" FontSize="9.333" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                            <Button x:Name="BtnIPAllocateCancel" Content="Cancel" Click="BtnIPAllocateCancel_Click"  Height="20" Width="70" Margin="5,0,2,0" FontSize="9.333" VerticalAlignment="Center" HorizontalAlignment="Left" Visibility="Collapsed"/>
                                            <!--<Button x:Name="BtnIPRetrivePastPayments" Content="Retrieve Past Payments" Click="BtnIPRetrivePastPayments_Click" Height="20" Width="120" Margin="50,0,2,0" FontSize="9.333" VerticalAlignment="Center" HorizontalAlignment="Left"/>-->
                                            <Button x:Name="BtnBillersNotesInsuranePayment"  Content="Billers' Notes" Tag="Insurance Payment" IsEnabled="False"  Height="20"  Width="85"  Margin="50,0,10,0" FontSize="9.333" FontWeight="Bold" Click="BtnBillersNotes_Click"  />
                                        </StackPanel>
                                    </Grid>
                                    <StackPanel Grid.Row="1" Orientation="Vertical" Width="Auto" HorizontalAlignment="Stretch" >
                                        <!--Uncommented the code to get the patient directly-->
                                        <!--<StackPanel x:Name="spSearch"  Orientation="Vertical" VerticalAlignment="Top" HorizontalAlignment="Stretch">
                                            <Grid Width="Auto" Height="Auto" HorizontalAlignment="Stretch">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="25"/>
                                                    <RowDefinition Height="25"/>
                                                    <RowDefinition Height="25"/>
                                                    <RowDefinition Height="25"/>
                                                    <RowDefinition Height="25"/>
                                                    <RowDefinition Height="25"/>
                                                    <RowDefinition Height="25"/>
                                                    <RowDefinition Height="25"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Grid VerticalAlignment="Top" Grid.RowSpan="8" Grid.ColumnSpan="4" >
                                                    <Grid x:Name="SearchCriteriaIPPatientCharges" Height="195" HorizontalAlignment="Stretch" VerticalAlignment="Top" Margin="1">
                                                        <Rectangle Height="200" VerticalAlignment="Top" RadiusX="10" RadiusY="10">
                                                            <Rectangle.Fill>
                                                                <SolidColorBrush Color="#FF6494EC"/>
                                                            </Rectangle.Fill>
                                                        </Rectangle>
                                                    </Grid>
                                                </Grid>
                                                <TextBlock Grid.Row="0" Text="Patient Search" Grid.ColumnSpan="4" FontSize="11" FontWeight="Bold"   VerticalAlignment="Center" Margin="10,0,20,0" />
                                                <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="4" Orientation="Horizontal">
                                                    <TextBlock HorizontalAlignment="Left" Text="Select a patient to allocation payment to " FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,0" />
                                                    <Button x:Name="BtnIPFindPatient" Content="Find Patient" Click="BtnIPFindPatient_Click" Height="20" Width="75" Margin="20,0,2,0" FontSize="9.333" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                                </StackPanel>
                                                <TextBlock Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left" Text="Patient Details" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                                <TextBlock x:Name="LblPatient" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                                <StackPanel Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock HorizontalAlignment="Left" Text="SSN: " FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                    <TextBlock x:Name="LblSSNValue" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                </StackPanel>
                                                <StackPanel Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock HorizontalAlignment="Left" Text="DOB: " FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                    <TextBlock x:Name="LblDOBValue" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                </StackPanel>
                                                <StackPanel Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock HorizontalAlignment="Left" Text="Cell Phone: " FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                    <TextBlock x:Name="LblPhoneValue" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                </StackPanel>
                                                <StackPanel Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock HorizontalAlignment="Left" Text="Unique Number: " FontSize="11" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                    <TextBlock x:Name="LblIPUniqueNumber" HorizontalAlignment="Left" Text="" FontSize="11" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                </StackPanel>

                                                <StackPanel Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock HorizontalAlignment="Left" Text="Primary Insurance: " FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                    <TextBlock x:Name="LblPrimaryInsurance" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                </StackPanel>
                                                <StackPanel Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock HorizontalAlignment="Left" Text="Secondary Insurance: " FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                    <TextBlock x:Name="LblSecondaryInsurance" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                </StackPanel>
                                                <StackPanel Grid.Row="5" Grid.Column="1" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock HorizontalAlignment="Left" Text="Tertiary Insurance: " FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                    <TextBlock x:Name="LblTertiaryInsurance" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="0,0,0,0" />
                                                </StackPanel>

                                                <StackPanel Grid.Row="3" Grid.Column="3" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock x:Name="LblAccountBalance" HorizontalAlignment="Left" Text="Account Balance Due: $" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                                    <TextBlock x:Name="LblAccountBalanceValue" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,100,5" />
                                                </StackPanel>
                                                <StackPanel Grid.Row="4" Grid.Column="3" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                                    <TextBlock x:Name="LblUnallocatedPayents" HorizontalAlignment="Left" Text="Unallocated Payments: $" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                                    <TextBlock x:Name="LblUnallocatedPayentsValue" HorizontalAlignment="Left" Text="" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,100,5" />
                                                </StackPanel>
                                                <Button Grid.Row="5" Grid.Column="3" x:Name="BtnIPAllocatePaymentToPatient" Content="Allocate Payment" Click="BtnIPAllocatePaymentToPatient_Click"  Height="20" Width="100" Margin="20,0,2,0" FontSize="9.333" VerticalAlignment="Center" HorizontalAlignment="Left" Visibility="Collapsed"/>
                                            </Grid>
                                        </StackPanel>-->
                                        <!--Uncommented the code to get the patient directly-->
                                        <Border  BorderBrush="Blue" BorderThickness="1" CornerRadius="5" Margin="0,20,0,0">
                                            <StackPanel x:Name="spInsurancePayments" Orientation="Vertical" HorizontalAlignment="Stretch"  >
                                                <Grid HorizontalAlignment="Stretch" Height="Auto">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="30"/>
                                                        <RowDefinition Height="30"/>
                                                        <RowDefinition Height="25"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>
                                                    <StackPanel Grid.Row="0">
                                                        
                                                        <Grid Grid.Row="0" VerticalAlignment="Top">
                                                            <Grid x:Name="PracticeSeparator2" Height="25" HorizontalAlignment="Stretch" VerticalAlignment="Top" Margin="1">
                                                                <Rectangle Height="25" VerticalAlignment="Top" RadiusX="5" RadiusY="20">
                                                                    <Rectangle.Fill>
                                                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                                            <GradientStop Color="#FF6595D4"/>
                                                                            <GradientStop Color="#FF367799" Offset="0.553"/>
                                                                        </LinearGradientBrush>
                                                                    </Rectangle.Fill>
                                                                </Rectangle>
                                                            </Grid>
                                                            <TextBlock Text="Bulk Insurance Payments" FontSize="11" Foreground="White" VerticalAlignment="Center" Margin="5,0,0,0" />                                                            
                                                        </Grid>
                                                    </StackPanel>                                                    
                                                    <StackPanel Grid.Row="1" Orientation="Horizontal" VerticalAlignment="Center">
                                                        <TextBlock  HorizontalAlignment="Left" Text="Past Payments from:" FontWeight="Bold" FontSize="9" Foreground="Black" VerticalAlignment="Center" Margin="5,0,0,0" />
                                                        <telerik:RadComboBox x:Name="DdlIPInsuranceProvider" Margin="10,0,0,5" Width="200" HorizontalAlignment="Left">
                                                        </telerik:RadComboBox>
                                                        <telerik:RadComboBox x:Name="DdlIPStatus" Margin="10,0,0,5" Width="200" HorizontalAlignment="Left">
                                                        </telerik:RadComboBox>
                                                        <Button x:Name="BtnIPGetPaymentAllocations" Content="Get" Width="50" Margin="10,0,0,0" FontSize="9.333" VerticalAlignment="Center" Click="BtnIPGetPaymentAllocations_Click" />
                                                        <Button x:Name="BtnIPClearPaymentAllocationFields" Content="Clear" Width="70" Margin="10,0,0,0" FontSize="9.333" VerticalAlignment="Center" Click="BtnIPClearPaymentAllocationFields_Click" />
                                                        <Button x:Name="BtnIPAllocatePayment" Content="Allocate Payment" Width="100" Margin="10,0,0,0" FontSize="9.333" IsEnabled="False" VerticalAlignment="Center" Click="BtnIPAllocatePayment_Click" />
                                                    </StackPanel>
                                                    <telerik:RadDataPager Grid.Row="2" HorizontalAlignment="Stretch"
               x:Name="RadDtPagerInsurancePayment"
               PageSize="7"
               Source="{Binding Items, ElementName=RadGvInsurancePayment}"
               DisplayMode="All"
               AutoEllipsisMode="Both"
               NumericButtonCount="10"
               IsTotalItemCountFixed="True"/>
                                                    <telerik:RadGridView Grid.Row="3" x:Name="RadGvInsurancePayment" IsSynchronizedWithCurrentItem="True" IsReadOnly="True" CanUserFreezeColumns="False"
              ShowGroupPanel="False" FontSize="9.333" SelectionMode="Single"  CanUserSelect="False" IsFilteringAllowed="True" telerik:StyleManager.Theme="Office_Blue"
              AutoGenerateColumns="False" ColumnWidth="*"
              CanUserResizeColumns="False" ShowColumnFooters="False" HorizontalAlignment="Stretch" CanUserReorderColumns="False" >
                                                        <telerik:RadGridView.Columns>
                                                            <telerik:GridViewSelectColumn x:Name="RadGvcSelectInsurancePayment" />
                                                            <telerik:GridViewColumn Header="Edit" Width="5*" MinWidth="20" IsFilterable="False" >
                                                                <telerik:GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <HyperlinkButton x:Name="LnkEditInsurancePayment" Click="LnkEditInsurancePayment_Click"  ToolTipService.ToolTip="Edit Insurance Payment" HorizontalAlignment="Center">
                                                                            <Image Source="../../../Images/iconeditpencil.png" Width="20" Height="21"  ></Image>
                                                                        </HyperlinkButton>
                                                                    </DataTemplate>
                                                                </telerik:GridViewColumn.CellTemplate>
                                                            </telerik:GridViewColumn>
                                                            <telerik:GridViewColumn Header="Note" Width="5*" MinWidth="20" IsFilterable="False" >
                                                                <telerik:GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <HyperlinkButton x:Name="LnkNoteInsurancePayment" Click="LnkNoteInsurancePayment_Click"  ToolTipService.ToolTip="Edit Insurance Payment" HorizontalAlignment="Center">
                                                                            <Image Source="../../../Images/PNG/Workspace/Add_Notice_48.png" Width="20" Height="21"  ></Image>
                                                                        </HyperlinkButton>
                                                                    </DataTemplate>
                                                                </telerik:GridViewColumn.CellTemplate>
                                                            </telerik:GridViewColumn>
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding insurance_payment_id}" Header="Id" MinWidth="35" Width="5*" />
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding payment_date}" MinWidth="85" DataFormatString="{}{0:MM/dd/yyyy}" Width="5*" >
                                                                <telerik:GridViewColumn.Header>
                                                                    <TextBlock TextWrapping="Wrap" Text="Payment Date" TextAlignment="Center"  />
                                                                </telerik:GridViewColumn.Header>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding insuranceProvider}" Header="Insurance Provider" MinWidth="100" Width="15*" />
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding code_and_payerid}" MinWidth="100" Width="8*" >
                                                                <telerik:GridViewColumn.Header>
                                                                    <TextBlock TextWrapping="Wrap" Text="Provider Code/Payer Id" TextAlignment="Center"  />
                                                                </telerik:GridViewColumn.Header>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding payment_method}" Header="Method" MinWidth="50" Width="8*" />
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding payment_reference}" Header="Reference" MinWidth="70" Width="8*" />
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding payment_amount, StringFormat='c'}" MinWidth="60" Width="8*" >
                                                                <telerik:GridViewColumn.Header>
                                                                    <TextBlock TextWrapping="Wrap" Text="Payment Amount ($)" TextAlignment="Center"  />
                                                                </telerik:GridViewColumn.Header>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding charge_back_amount, StringFormat='c'}" MinWidth="35" Width="8*" >
                                                                <telerik:GridViewColumn.Header>
                                                                    <TextBlock TextWrapping="Wrap" Text="Charge Back ($)" TextAlignment="Center"  />
                                                                </telerik:GridViewColumn.Header>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding total_amount_applied_to_charges, StringFormat='c'}"  MinWidth="60" Width="8*" >
                                                                <telerik:GridViewColumn.Header>
                                                                    <TextBlock TextWrapping="Wrap" Text="Amount Applied($)" TextAlignment="Center"  />
                                                                </telerik:GridViewColumn.Header>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding amount_available, StringFormat='c'}" MinWidth="60" Width="8*" >
                                                                <telerik:GridViewColumn.Header>
                                                                    <TextBlock TextWrapping="Wrap" Text="Amount Available($)" TextAlignment="Center"  />
                                                                </telerik:GridViewColumn.Header>
                                                            </telerik:GridViewDataColumn>
                                                            <telerik:GridViewCheckBoxColumn DataMemberBinding="{Binding flag_payment_reversed}" MinWidth="75" Header="Reversed" Width="5*" />
                                                            <telerik:GridViewColumn Header="Delete" Width="50" IsFilterable="False" >
                                                                <telerik:GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <HyperlinkButton x:Name="LnkInsurancePaymentDelete" HorizontalAlignment="Center" Click="LnkInsurancePaymentDelete_Click">
                                                                            <Image Source="../../../Images/iconreddelete.png" Width="20" Height="21"></Image>
                                                                        </HyperlinkButton>
                                                                    </DataTemplate>
                                                                </telerik:GridViewColumn.CellTemplate>
                                                            </telerik:GridViewColumn>
                                                        </telerik:RadGridView.Columns>
                                                    </telerik:RadGridView>
                                                </Grid>
                                            </StackPanel>
                                        </Border>
                                    </StackPanel>
                                </Grid>
                            </ScrollViewer>
                        </telerik:RadTabItem>

                        <telerik:RadTabItem Header="Patient Payments" x:Name="RadTabPatientPayment" HorizontalContentAlignment="Stretch" HorizontalAlignment="Left">
                            <Grid Width="Auto" HorizontalAlignment="Stretch">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <!--<Grid Grid.Row="0" Width="Auto" Height="Auto" HorizontalAlignment="Stretch" >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="20*"/>
                                        <ColumnDefinition Width="15*"/>
                                        <ColumnDefinition Width="10*"/>
                                        <ColumnDefinition Width="20*"/>
                                        <ColumnDefinition Width="35*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid VerticalAlignment="Top" Grid.RowSpan="4" Grid.ColumnSpan="5" >
                                        <Grid x:Name="SearchCriteriaGrid" Height="100" HorizontalAlignment="Stretch" VerticalAlignment="Top" Margin="1">
                                            <Rectangle Height="105" VerticalAlignment="Top" RadiusX="10" RadiusY="10">
                                                <Rectangle.Fill>
                                                    <SolidColorBrush Color="#FF6494EC"/>
                                                </Rectangle.Fill>
                                            </Rectangle>
                                        </Grid>
                                    </Grid>
                                    <TextBlock Text="Patient Details" Grid.ColumnSpan="4" FontSize="11" FontWeight="Bold"   VerticalAlignment="Center" Margin="10,0,20,0" />
                                    <TextBlock x:Name="LblPPPatientName" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="10,0,0,5" />
                                    <StackPanel Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="SSN: " FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                        <TextBlock x:Name="LblPPSSN" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="2" Grid.Column="0" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="DOB: " FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                        <TextBlock x:Name="LblPPDoB" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="Unique Number: " FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                        <TextBlock x:Name="LblPPUniqueNumber" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="Cell Phone: " FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                        <TextBlock x:Name="LblPPCellPhone" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="1" Grid.Column="2" Grid.ColumnSpan="2" Margin="10,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <Button x:Name="BtnFindPatient"  Content="Find Patient" Click="BtnPPFindPatient_Click" Height="20"  Width="75" Margin="0,0,2,0" FontSize="9.333" />
                                        <Button x:Name="BtnClearPatient"  Content="Clear" Click="BtnPPClearPatient_Click" Height="20"  Width="75" Margin="10,0,2,0" FontSize="9.333" />
                                    </StackPanel>
                                </Grid>-->
                                <Grid Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <!--<TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" HorizontalAlignment="Left" Text="Payments Pending Allocation" FontWeight="Bold" FontSize="9" Foreground="Black" VerticalAlignment="Center" Margin="5,0,0,0" />-->
                                    <ComboBox x:Name="DdlPaymentStatus" SelectionChanged="DdlPaymentStatus_SelectionChanged" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" FontSize="9.333" Width="150" HorizontalAlignment="Left" Margin="10,5,0,5">
                                        <ComboBoxItem Content="Pending allocation" />
                                        <ComboBoxItem Content="All patient payments" />
                                    </ComboBox>
                                    <!--<telerik:RadDataPager Grid.Row="1" Grid.ColumnSpan="2"
								   x:Name="RadDtPagerCPT"
								   PageSize="10"
								   Source="{Binding Items, ElementName=RadGvCPTCode}"
								   DisplayMode="All"
								   AutoEllipsisMode="Both"
								   NumericButtonCount="10"
								   IsTotalItemCountFixed="True"/>-->
                                    <telerik:RadGridView x:Name="RadGvPayments" IsSynchronizedWithCurrentItem="True" IsReadOnly="True" CanUserFreezeColumns="False" Grid.Row="1"
					ShowGroupPanel="False" FontSize="9.333" SelectionMode="Single" CanUserSelect="False" IsFilteringAllowed="True" telerik:StyleManager.Theme="Office_Blue"
					AutoGenerateColumns="False" ColumnWidth="*" Grid.ColumnSpan="2"
					CanUserResizeColumns="False" ShowColumnFooters="False" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="160" CanUserReorderColumns="False" RowActivated="RadGvPayments_RowActivated" >
                                        <telerik:RadGridView.Columns>
                                            <telerik:GridViewSelectColumn />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding patientPaymentId}" Header="Id" Width="5*" />
                                            <telerik:GridViewColumn Header="Edit" Width="5*" IsFilterable="False" >
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <HyperlinkButton x:Name="LnkEditPatientPayment" Click="LnkEditPatientPayment_Click" ToolTipService.ToolTip="Edit Patient Payment" HorizontalAlignment="Center">
                                                            <Image Source="../../../Images/iconeditpencil.png" Width="20" Height="21"  ></Image>
                                                        </HyperlinkButton>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                            <telerik:GridViewColumn Header="Note" Width="5*" MinWidth="20" IsFilterable="False" >
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <HyperlinkButton x:Name="LnkNotePatientPayment" Click="LnkNotePatientPayment_Click"  ToolTipService.ToolTip="Edit Insurance Payment" HorizontalAlignment="Center">
                                                            <Image Source="../../../Images/PNG/Workspace/Add_Notice_48.png" Width="20" Height="21"  ></Image>
                                                        </HyperlinkButton>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding PaymentDate}" Header="Payment Date" DataFormatString="{}{0:MM/dd/yyyy}" Width="14*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding Amount, StringFormat='c'}" Header="Amount ($)" Width="14*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding PaidBy}" Header="Paid By" Width="14*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding PaidTo}" Header="Paid To" Width="14*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding Method}" Header="Method" Width="14*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding reference}" Header="Reference" Width="14*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding previouslyApplied, StringFormat='c'}" Width="14*">
                                                <telerik:GridViewColumn.Header>
                                                    <TextBlock TextWrapping="Wrap" Text="Previously Applied ($)" TextAlignment="Center"  />
                                                </telerik:GridViewColumn.Header>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding BalanceAvailable, StringFormat='c'}" Width="14*" >
                                                <telerik:GridViewColumn.Header>
                                                    <TextBlock TextWrapping="Wrap" Text="Credit Available ($)" TextAlignment="Center"  />
                                                </telerik:GridViewColumn.Header>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding PaymentType}" Header="Type" Width="14*" />
                                            <telerik:GridViewColumn Header="Delete" Width="50" IsFilterable="False" >
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <HyperlinkButton x:Name="LnkPatientPaymentDelete" HorizontalAlignment="Center" Click="LnkPatientPaymentDelete_Click">
                                                            <Image Source="../../../Images/iconreddelete.png" Width="20" Height="21"></Image>
                                                        </HyperlinkButton>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                        </telerik:RadGridView.Columns>
                                    </telerik:RadGridView>
                                </Grid>
                                <StackPanel Grid.Row="1" Margin="10,0,0,0" Orientation="Horizontal" HorizontalAlignment="Right">
                                    <Button x:Name="BtnAllocatePayments"  Content="Allocate Payments" Height="20" Click="BtnAllocatePayments_Click"  Width="100" Margin="0,0,2,0" FontSize="9.333" />
                                </StackPanel>
                                <Grid Grid.Row="2" Width="Auto" Height="Auto" HorizontalAlignment="Stretch" >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Enter Payment" FontSize="11" FontWeight="Bold" Foreground="Black" VerticalAlignment="Center" Margin="10,0,20,0" />
                                    <StackPanel Grid.Row="1" Orientation="Horizontal">
                                        <TextBlock HorizontalAlignment="Left" Text="Type of Payment" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <ComboBox x:Name="DdlTypeOfPayment" Margin="10,0,0,5" Width="150">
                                        </ComboBox>
                                    </StackPanel>
                                    <!--<CheckBox x:Name="ChkPrepayment" Grid.Row="1" Content="Prepayment" Margin="10,0,20,0" FontSize="11" />-->

                                    <StackPanel Grid.Row="2" Orientation="Horizontal">
                                        <TextBlock HorizontalAlignment="Left" Text="Payment from" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <RadioButton x:Name="RdoPaymentFromPatient" IsChecked="True" Content="Patient"  Margin="10,0,0,5"/>
                                        <RadioButton x:Name="RdoPaymentFromGuarantor" Content="Guarantor" Checked="RdoPaymentFromGuarantor_Checked" Unchecked="RdoPaymentFromGuarantor_Unchecked" Margin="10,0,0,5"/>
                                        <ComboBox x:Name="DdlGuarantor" Margin="10,0,0,5" Width="150">
                                            <!--<ComboBoxItem Content="Carol Smith" />-->
                                        </ComboBox>
                                    </StackPanel>
                                    <StackPanel Grid.Row="3" Orientation="Horizontal" >
                                        <TextBlock HorizontalAlignment="Left" Text="Payment Amount" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <TextBlock HorizontalAlignment="Left" Text="*" FontSize="11" Foreground="Red" VerticalAlignment="Center" Margin="10,0,1,0" />
                                        <TextBox x:Name="TxtPaymentAmount" HorizontalAlignment="Left" Width="150" Margin="0,0,0,0" FontSize="9.333" Height="20" />
                                        <TextBlock HorizontalAlignment="Left" Text="Payment Date" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="31,0,0,5" />
                                        <TextBlock HorizontalAlignment="Left" Text="*" FontSize="11" Foreground="Red" VerticalAlignment="Center" Margin="10,0,1,0" />
                                        <telerik:RadDatePicker x:Name="RdpPaymentDate" FontSize="9.333" Width="150"  SelectionChanged="RdpPaymentDate_SelectionChanged" KeyUp="RdpPaymentDate_KeyUp" ParseDateTimeValue="RdpPaymentDate_ParseDateTimeValue"></telerik:RadDatePicker>
                                        <TextBlock HorizontalAlignment="Left" Text="Payment For Physician" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="31,0,0,5" />
                                        <ComboBox x:Name="DdlPhysician" Margin="10,0,0,5" Width="170" MaxDropDownHeight="150">
                                            <ComboBox.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="{Binding last_name}" />
                                                        <TextBlock Text=" " />
                                                        <TextBlock Text="{Binding first_name}" />
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ComboBox.ItemTemplate>
                                        </ComboBox>

                                        <!--<TextBox x:Name="TxtPaymentDate" HorizontalAlignment="Left" Width="150" Margin="0,0,0,0" FontSize="9.333" Height="20" />-->
                                    </StackPanel>
                                    <StackPanel Grid.Row="4" Orientation="Horizontal">
                                        <TextBlock HorizontalAlignment="Left" Text="Payment Method" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <TextBlock HorizontalAlignment="Left" Text="*" FontSize="11" Foreground="Red" VerticalAlignment="Center" Margin="13,0,1,0" />
                                        <ComboBox x:Name="DdlPaymentMethod" Margin="0,0,0,5" Width="100">
                                            <!--<ComboBoxItem Content="Cash" />
                                        <ComboBoxItem Content="Check" />-->
                                        </ComboBox>
                                        <TextBlock HorizontalAlignment="Left" Text="Reference Number" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="55,0,0,5" />
                                        <TextBox x:Name="TxtPaymentReference" HorizontalAlignment="Left" Width="150" Margin="20,0,0,0" FontSize="9.333" Height="20" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button x:Name="BtnSave" Content="Save" Click="BtnPPSaveing_Click" Width="100" Margin="10,2,0,5" FontSize="9.333" />
                                        <Button x:Name="BtnSaveAndAllocatePayment" Click="BtnPPSaveing_Click" Content="Save &amp; Allocate Payment" Width="155" Margin="10,2,0,5" FontSize="9.333" IsEnabled="True" />
                                        <Button x:Name="BtnSaveAndPrintReceipt" Click="BtnPPSaveing_Click" Content="Save &amp; Print Receipt"  Width="160" Margin="10,2,0,5" FontSize="9.333" IsEnabled="True" />
                                        <Button x:Name="BtnDoBatchPaymentEntry" Content="Do Batch Payment Entry"  Width="160" Margin="10,2,0,5" FontSize="9.333" IsEnabled="False" />
                                        <Button x:Name="BtnBillersNotesPatientPayment"  Content="Billers' Notes" Tag="Patient Payment" IsEnabled="False"  Height="20"  Width="85"  Margin="50,0,10,0" FontSize="9.333" FontWeight="Bold" Click="BtnBillersNotes_Click"  />
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </telerik:RadTabItem>

                        <telerik:RadTabItem Header="Write-Offs" x:Name="RadTabAdjustmentWriteOffs" HorizontalContentAlignment="Stretch" HorizontalAlignment="Left">
                            <Grid Width="Auto" HorizontalAlignment="Stretch">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                    <RowDefinition />
                                    <RowDefinition />
                                    <RowDefinition />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <Grid Grid.Row="0" Width="Auto" Height="Auto" HorizontalAlignment="Stretch" >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="20*"/>
                                        <ColumnDefinition Width="15*"/>
                                        <ColumnDefinition Width="10*"/>
                                        <ColumnDefinition Width="20*"/>
                                        <ColumnDefinition Width="35*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid VerticalAlignment="Top" Grid.RowSpan="2" Grid.ColumnSpan="5" >
                                        <Grid x:Name="PatientSearchCriteriaGrid" Height="50" HorizontalAlignment="Stretch" VerticalAlignment="Top">
                                            <Border Height="50" VerticalAlignment="Top" CornerRadius="10" BorderBrush="#FFB8B7B7" BorderThickness="2">
                                                <Rectangle Fill="#FFF4F4F5" RadiusX="10" RadiusY="10"/>
                                            </Border>
                                        </Grid>
                                    </Grid>
                                    <!--<TextBlock Text="Patient Details" Grid.Row="2" Grid.ColumnSpan="4" FontSize="11" FontWeight="Bold"   VerticalAlignment="Center" Margin="10,0,20,0" />
                                    <TextBlock x:Name="LblWOPatientName" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="10,0,0,5" />
                                    <StackPanel Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="4" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="SSN: " FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                        <TextBlock x:Name="LblWOSSN" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="4" Grid.Column="0" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="DOB: " FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                        <TextBlock x:Name="LblWODoB" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="Unique Number: " FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                        <TextBlock x:Name="LblWOUniqueNumber" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="2" Margin="10,0,0,5" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="Cell Phone: " FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                        <TextBlock x:Name="LblWOCellPhone" HorizontalAlignment="Left" Text="" FontSize="11"   VerticalAlignment="Center" Margin="0,0,0,0" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Margin="10,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <Button x:Name="BtnWOFindPatient"  Content="Find Patient"  Height="20"  Width="75" Margin="0,0,2,0" FontSize="9.333" Click="BtnWOFindPatient_Click" />
                                        <Button x:Name="BtnWOClearPatient"  Content="Clear"  Height="20"  Width="75" Margin="10,0,2,0" FontSize="9.333" Click="BtnWOClearPatient_Click" />
                                    </StackPanel>-->
                                    <TextBlock Grid.Row="0" Text="Retrieve Outstanding Bills" Grid.ColumnSpan="2" FontSize="11" FontWeight="Bold"   VerticalAlignment="Center" Margin="10,0,0,0" />
                                    <StackPanel Grid.Row="1" Grid.ColumnSpan="5" Margin="10,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock HorizontalAlignment="Left" Text="Retrieve bills outstanding for" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />
                                        <TextBox x:Name="TxtWOOutstandingDays" HorizontalAlignment="Left" Width="50" Margin="2,0,2,0" FontSize="9.333" Height="20" VerticalAlignment="Center" TextChanged="TxtWOOutstandingDays_TextChanged" />
                                        <TextBlock HorizontalAlignment="Left" Text="days or more" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,0,0,5" />

                                        <Button x:Name="BtnRetrieve"  Content="Retrieve" Height="20" Width="75" Margin="20,0,2,0" FontSize="9.333" VerticalAlignment="Center" Click="BtnRetrieve_Click"/>
                                        <Button x:Name="BtnBillersAdjustmentWriteOffs"  Content="Billers' Notes" Tag="Adjustment WriteOffs" IsEnabled="False"  Height="20"  Width="85"  Margin="50,0,10,0" FontSize="9.333" FontWeight="Bold" Click="BtnBillersNotes_Click"  />
                                    </StackPanel>
                                </Grid>
                                <Grid Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Row="0" Grid.ColumnSpan="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition Width="150"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left">
                                            <TextBlock Grid.Row="0" Grid.Column="0" HorizontalAlignment="Left" Text="Patient Charges (Superbills)" FontWeight="Bold" FontSize="9" Foreground="Black" VerticalAlignment="Center" Margin="5,0,0,0" />
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Margin="10,0,0,0" Orientation="Horizontal" HorizontalAlignment="Right">
                                            <Button x:Name="BtnTopPost" Click="BtnPost_Click" Content="Post Payments" Height="20" Width="100" Margin="0,3,2,0" FontSize="9.333" FontWeight="Bold" />
                                        </StackPanel>
                                    </Grid>
                                    <telerik:RadGridView x:Name="RadGvBills" IsSynchronizedWithCurrentItem="False" CanUserFreezeColumns="False" Grid.Row="1" Grid.ColumnSpan="2" IsReadOnly="False"
					ShowGroupPanel="False" FontSize="9.333" SelectionMode="Extended" CanUserSelect="False" IsFilteringAllowed="True" AutoGenerateColumns="False" ColumnWidth="*" Height="300" telerik:StyleManager.Theme="Office_Blue"
					CanUserResizeColumns="False" ShowColumnFooters="False" HorizontalAlignment="Stretch" VerticalAlignment="Top" Width="Auto" CanUserReorderColumns="False" EnableRowVirtualization="False">
                                        <telerik:RadGridView.Columns>
                                            <telerik:GridViewToggleRowDetailsColumn x:Name="RadColumnToggle" ExpandMode="Single"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding flag_do_not_send_patient_statement}" Header="" IsReadOnly="True" Width="30">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <CheckBox IsChecked="{Binding flag_do_not_send_patient_statement, Mode=TwoWay}" telerik:StyleManager.Theme="Office_Black" Click="CheckBox_Click" />
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding bill_header_id}" Width="5*" IsReadOnly="True" Header="Bill Id"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding patient_name}" Width="14*" IsReadOnly="True" Header="Patient Name"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding date_created}" Header="Bill Date" DataFormatString="{}{0:MM/dd/yyyy}" Width="14*" IsReadOnly="True"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding date_created}" Header="Date of Service" DataFormatString="{}{0:MM/dd/yyyy}" Width="14*" IsReadOnly="True"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding bill_reference_number}" Header="Bill Reference" Width="14*" IsReadOnly="True"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding physician_name}" Header="Physician" Width="14*" IsReadOnly="True"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding total_charges, StringFormat='c'}" Header="Total Charges ($)" Width="14*" IsReadOnly="True"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding payment_due, StringFormat='c'}" Header="Payment Due ($)" Width="14*" IsReadOnly="True"/>
                                            <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding payment_made, StringFormat='c'}" Header="Payment Made ($)" Width="14*" IsReadOnly="True"/>-->
                                            <telerik:GridViewDataColumn Header="Adjustments ($)" IsFilterable="False" IsSortable="False" IsReadOnly="True" IsVisible="False"
  DataMemberBinding="{Binding amount_to_adjustment, Mode=TwoWay, StringFormat='c'}" Width="14*">
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="Write-Off ($)" IsFilterable="False" IsSortable="False" IsReadOnly="True"
  DataMemberBinding="{Binding amount_to_write_off, Mode=TwoWay, StringFormat='c'}" Width="14*">
                                            </telerik:GridViewDataColumn>
                                            <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding adjustment_amount, StringFormat='c'}" Header="Adjustments ($)" Width="14*" IsReadOnly="True"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding write_off_amount, StringFormat='c'}" Header="Write-Off ($)" Width="14*" IsReadOnly="True"/>-->
                                            <telerik:GridViewColumn Header="Note" Width="5*" MinWidth="20" IsFilterable="False" >
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <HyperlinkButton x:Name="LnkNoteWriteOff" Click="LnkNoteWriteOff_Click"  ToolTipService.ToolTip="Edit Insurance Payment" HorizontalAlignment="Center">
                                                            <Image Source="../../../Images/PNG/Workspace/Add_Notice_48.png" Width="20" Height="21"  ></Image>
                                                        </HyperlinkButton>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                        </telerik:RadGridView.Columns>
                                        <telerik:RadGridView.RowDetailsTemplate>
                                            <DataTemplate >
                                                <telerik:RadGridView x:Name="RadGvBillTransactionGrid" Loaded="RadGvBillTransactionGrid_Loaded" CanUserFreezeColumns="False"
                             ShowGroupPanel="False" FontSize="9.333" SelectionMode="Extended" CanUserSelect="False" IsFilteringAllowed="False"
                             CanUserResizeColumns="False" ShowColumnFooters="False" CanUserReorderColumns="False" AutoGenerateColumns="False" telerik:StyleManager.Theme="Office_Blue"
                             HorizontalAlignment="Stretch"  VerticalAlignment="Top" Width="1130" CellEditEnded="RadGvBillTransactionGrid_CellEditEnded">
                                                    <telerik:RadGridView.Columns>
                                                        <telerik:GridViewDataColumn DataMemberBinding="{Binding bill_transaction_id}" Header="Item Id" Width="5*" IsReadOnly="True"/>
                                                        <telerik:GridViewDataColumn DataMemberBinding="{Binding date_of_service}" DataFormatString="{}{0:MM/dd/yyyy}" Width="14*" IsReadOnly="True" Header="Date of Service"/>
                                                        <telerik:GridViewDataColumn DataMemberBinding="{Binding cpt_code}" Header="Procedure" Width="14*" IsReadOnly="True"/>
                                                        <telerik:GridViewDataColumn DataMemberBinding="{Binding total_charges, StringFormat='c'}" Header="Total Charges ($)" Width="14*" IsReadOnly="True"/>
                                                        <telerik:GridViewDataColumn DataMemberBinding="{Binding payment_due, StringFormat='c'}" Header="Payment Due ($)" Width="14*" IsReadOnly="True"/>
                                                        <telerik:GridViewDataColumn DataMemberBinding="{Binding patient_balance, StringFormat='c'}" Header="Patient Balance ($)" Width="14*" IsReadOnly="True"/>
                                                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding payment_made, StringFormat='c'}" Header="Payment Made ($)" Width="14*" IsReadOnly="True"/>-->
                                                        <telerik:GridViewDataColumn Header="Adjustment ($)" DataMemberBinding="{Binding amount_to_adjustment, Mode=TwoWay, StringFormat='c'}" IsFilterable="False" IsSortable="False" Width="14*" IsVisible="False">
                                                            <telerik:GridViewDataColumn.CellEditTemplate>
                                                                <DataTemplate>
                                                                    <TextBox Text="{Binding amount_to_adjustment, Mode=TwoWay}" TextChanged="TextBox_TextChanged" />
                                                                </DataTemplate>
                                                            </telerik:GridViewDataColumn.CellEditTemplate>
                                                        </telerik:GridViewDataColumn>
                                                        <telerik:GridViewDataColumn Header="Write-Off ($)" DataMemberBinding="{Binding amount_to_write_off, Mode=TwoWay, StringFormat='c'}" IsFilterable="False" IsSortable="False" Width="14*">
                                                            <telerik:GridViewDataColumn.CellEditTemplate>
                                                                <DataTemplate>
                                                                    <TextBox Text="{Binding amount_to_write_off, Mode=TwoWay}" TextChanged="TextBox_TextChanged" />
                                                                </DataTemplate>
                                                            </telerik:GridViewDataColumn.CellEditTemplate>
                                                        </telerik:GridViewDataColumn>
                                                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding adjustment_amount, StringFormat='c'}" Header="Adjustments ($)" Width="14*" IsReadOnly="True"/>
                                                        <telerik:GridViewDataColumn DataMemberBinding="{Binding write_off_amount, StringFormat='c'}" Header="Write-Off ($)" Width="14*" IsReadOnly="True"/>-->
                                                    </telerik:RadGridView.Columns>
                                                </telerik:RadGridView>
                                            </DataTemplate>
                                        </telerik:RadGridView.RowDetailsTemplate>
                                    </telerik:RadGridView>
                                </Grid>
                                <Grid Grid.Row="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition Width="150"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left">
                                        <TextBlock Text="Adjustment Transaction Code:" Margin="5,15,5,0" Visibility="Collapsed"/>
                                        <TextBlock Text="*" HorizontalAlignment="Left" Foreground="Red" Margin="0,15,0,0" Visibility="Collapsed"/>
                                        <telerik:RadComboBox x:Name="DdlAdjustmentTransactionCode" Margin="5,10,5,0" Width="200" Height="20" ItemsSource="{Binding}" DisplayMemberPath="description" SelectedValuePath="financial_code1" Visibility="Collapsed"/>
                                        <TextBlock Text="Write-off Transaction Code:" Margin="10,15,5,0"/>
                                        <TextBlock Text="*" HorizontalAlignment="Left" Foreground="Red" Margin="0,15,0,0"/>
                                        <telerik:RadComboBox x:Name="DdlWriteOffTransactionCode" Margin="5,10,5,0" Width="200" Height="20" ItemsSource="{Binding}" DisplayMemberPath="description" SelectedValuePath="financial_code1"/>
                                    </StackPanel>
                                    <!--<StackPanel Grid.Column="1" Margin="10,0,0,0" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button x:Name="BtnPost" Click="BtnPost_Click" Content="Post Payments" Height="20" Width="100" Margin="0,3,2,0" FontSize="9.333" FontWeight="Bold" />
                                    </StackPanel>-->
                                </Grid>
                            </Grid>
                        </telerik:RadTabItem>

                        <telerik:RadTabItem Header="Reversals" x:Name="RadTabPaymentSearchReports" HorizontalContentAlignment="Stretch" HorizontalAlignment="Left">
                            <Grid Width="Auto" HorizontalAlignment="Stretch">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0" Width="Auto" Height="Auto" HorizontalAlignment="Stretch" >
                                    <Grid Width="Auto" HorizontalAlignment="Stretch">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="25"/>
                                            <RowDefinition Height="25"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="11*"/>
                                            <ColumnDefinition Width="20*"/>
                                            <ColumnDefinition Width="10*"/>
                                            <ColumnDefinition Width="18*"/>
                                            <ColumnDefinition Width="10*"/>
                                            <ColumnDefinition Width="10*"/>
                                            <ColumnDefinition Width="10*"/>
                                            <ColumnDefinition Width="10*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid VerticalAlignment="Top" Grid.RowSpan="2" Grid.ColumnSpan="9" >
                                            <Grid x:Name="ECSSearchCriteria" Height="50" HorizontalAlignment="Stretch" VerticalAlignment="Top">
                                                <Border Height="50" VerticalAlignment="Top" CornerRadius="10" BorderBrush="#FFB8B7B7" BorderThickness="2">
                                                    <Rectangle Fill="#FFF4F4F5" RadiusX="10" RadiusY="10"/>
                                                </Border>
                                            </Grid>
                                        </Grid>
                                        <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4"  Orientation="Horizontal" HorizontalAlignment="Left">
                                            <TextBlock HorizontalAlignment="Left" Text="Payment Date Range: From" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="10,5,0,5" />
                                            <telerik:RadDatePicker x:Name="DpDateFrom"  HorizontalAlignment="Left" Margin="10,2,0,0" Width="100" KeyUp="DpDateFrom_KeyUp" ParseDateTimeValue="DpDateFrom_ParseDateTimeValue"></telerik:RadDatePicker>
                                            <TextBlock HorizontalAlignment="Right" Text="Untill"  FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="20,5,0,5" />
                                            <telerik:RadDatePicker x:Name="DpDateTo"  HorizontalAlignment="Left" Margin="10,2,0,0" Width="100" KeyUp="DpDateFrom_KeyUp" ParseDateTimeValue="DpDateFrom_ParseDateTimeValue"></telerik:RadDatePicker>
                                            <TextBlock HorizontalAlignment="Left" Text="Reference Number" FontSize="11" Foreground="Black" VerticalAlignment="Center" Margin="20,5,0,5" />
                                            <TextBox x:Name="TxtReferenceNumber" HorizontalAlignment="Left" Width="150" Margin="20,0,0,0" FontSize="9.333" Height="20" />
                                        </StackPanel>
                                        <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="9" Margin="10,5,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                                            <RadioButton x:Name="RadAll" Content="All" Margin="0,0,6,0" IsChecked="True"/>
                                            <RadioButton x:Name="RadPatient" Content="Patient Payment" Margin="0,0,6,0"/>
                                            <RadioButton x:Name="RadInsurance" Content="Insurance Payment" Margin="0,0,6,0"/>
                                            <RadioButton x:Name="RadAdjustmentWriteOff" Content="Adjustment/Write-off" Margin="0,0,6,0"/>
                                            <RadioButton x:Name="RadNonProceduralCharge" Content="Non-procedure Office Charge" Margin="0,0,6,0"/>
                                            <CheckBox x:Name="ChkRequiredPatAmt" Content="Required Patient Payments" Margin="10,0,6,0" Checked="ChkRequiredPatAmt_Checked" Unchecked="ChkRequiredPatAmt_Unchecked" IsChecked="False"/>
                                            <StackPanel Margin="10,0,0,0" Orientation="Horizontal" HorizontalAlignment="left">
                                                <Button x:Name="BtnSearchPayments"  Content="Search"  Height="20"  Width="75" Margin="0,0,2,0" FontSize="9.333" Click="BtnSearchPayments_Click" />
                                                <Button x:Name="BtnClearSearch"  Content="Clear"  Height="20"  Width="75" Margin="10,0,2,0" FontSize="9.333" Click="BtnClearSearch_Click" />
                                                <Button x:Name="BtnBillersReversals"  Content="Billers' Notes" Tag="Reversal" IsEnabled="False"  Height="20"  Width="85"  Margin="50,0,10,0" FontSize="9.333" FontWeight="Bold" Click="BtnBillersNotes_Click"  />
                                            </StackPanel>
                                        </StackPanel>
                                    </Grid>
                                </Grid>
                                <Grid Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Payment Search Result" FontWeight="Bold" VerticalAlignment="Center" Margin="5"/>
                                    <telerik:RadDataPager Grid.Row="1" VerticalAlignment="Bottom" Height="Auto"
 x:Name="RadDtPaymentSearch"
 PageSize="10"
 Source="{Binding Items, ElementName=RadGvPaymentSearch}"
 DisplayMode="All"
 AutoEllipsisMode="Both"
 NumericButtonCount="6"
 IsTotalItemCountFixed="True"/>
                                    <telerik:RadGridView x:Name="RadGvPaymentSearch" IsSynchronizedWithCurrentItem="True" IsReadOnly="True" CanUserFreezeColumns="False" Grid.Row="2"
					ShowGroupPanel="False" FontSize="9.333" SelectionMode="Single" CanUserSelect="False" IsFilteringAllowed="True" telerik:StyleManager.Theme="Office_Blue"
					AutoGenerateColumns="False" ColumnWidth="*" Grid.ColumnSpan="2"
					CanUserResizeColumns="False" ShowColumnFooters="False" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Height="Auto" CanUserReorderColumns="False" >
                                        <telerik:RadGridView.Columns>
                                            <telerik:GridViewColumn Header="Note" Width="5*" MinWidth="20" IsFilterable="False" >
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <HyperlinkButton x:Name="LnkNoteRever" Click="LnkNoteRever_Click"  ToolTipService.ToolTip="Edit Insurance Payment" HorizontalAlignment="Center">
                                                            <Image Source="../../../Images/PNG/Workspace/Add_Notice_48.png" Width="20" Height="21"  ></Image>
                                                        </HyperlinkButton>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding id}" Header="Id"  Width="60" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding patientName}" Header="Patient Name"  Width="140" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding reference}" Header="Reference"  Width="10*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding paymentType}" Header="Payment Type"  Width="10*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding transactionCode}" Header="Transaction Code"  Width="5*" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding amount, StringFormat='c'}" Header="Amount ($)"  Width="85" />
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding dateCreated}" Header="Payment Date" DataFormatString="{}{0:MM/dd/yyyy}" Width="100"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding description}" Header="Details" Width="15*" IsVisible="False"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding code}" Header="Code" Width="60"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding dos}" Header="DOS" Width="80"/>
                                            <telerik:GridViewDataColumn DataMemberBinding="{Binding desc}" Header="Description" Width="10*"/>
                                            <telerik:GridViewColumn Width="110">
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadButton x:Name="BtnReverse" Content="Reverse" Width="100" Click="BtnReverse_Click" HorizontalAlignment="Left"/>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                                <telerik:GridViewColumn.CellStyleSelector>
                                                    <telerik:ConditionalStyleSelector>
                                                        <telerik:StyleRule Condition="paymentType = 'Reversal'">
                                                            <telerik:StyleRule.Style>
                                                                <Style TargetType="telerik:GridViewCell">
                                                                    <Setter Property="IsEnabled" Value="False"  />
                                                                </Style>
                                                            </telerik:StyleRule.Style>
                                                        </telerik:StyleRule>
                                                        <telerik:StyleRule Condition="isReversedCompletely = true">
                                                            <telerik:StyleRule.Style>
                                                                <Style TargetType="telerik:GridViewCell">
                                                                    <Setter Property="IsEnabled" Value="False"  />
                                                                </Style>
                                                            </telerik:StyleRule.Style>
                                                        </telerik:StyleRule>
                                                        <telerik:StyleRule Condition="isHeaderPaymentTransaction = true">
                                                            <telerik:StyleRule.Style>
                                                                <Style TargetType="telerik:GridViewCell">
                                                                    <Setter Property="IsEnabled" Value="False"  />
                                                                </Style>
                                                            </telerik:StyleRule.Style>
                                                        </telerik:StyleRule>
                                                    </telerik:ConditionalStyleSelector>
                                                </telerik:GridViewColumn.CellStyleSelector>
                                            </telerik:GridViewColumn>
                                        </telerik:RadGridView.Columns>
                                    </telerik:RadGridView>
                                </Grid>
                            </Grid>
                        </telerik:RadTabItem>
                    </telerik:RadTabControl>
                </Grid>
            </Grid>
        </telerik:RadBusyIndicator>
    </Grid>
</navigation:Page>
